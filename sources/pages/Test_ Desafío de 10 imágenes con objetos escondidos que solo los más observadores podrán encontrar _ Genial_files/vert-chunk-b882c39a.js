(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[61471],{1745:function(e,t,n){"use strict";n.d(t,{CD:function(){return o},G2:function(){return r},fV:function(){return i}});var r,i,o={AD_UNIT_INITIALIZED:"Ad Unit Initialized",CREATE_GPT_SLOT:"Create GPT slot",STARTED:"Started adunit",TIMEOUT_REFRESH:"TIMEOUT_REFRESH",TRIGGERED_TSPADS_AD_UNIT_NEXT_LEVEL:"TRIGGERED_TSPADS_AD_UNIT_NEXT_LEVEL",TRIGGERED_TSPADS_ELEMENT_RESIZE:"TRIGGERED_TSPADS_ELEMENT_RESIZE",INIT_LEVEL:"Initialize level",LAST_LEVEL:"Last level - removing slot",READY_AMAZON_BIDS_PROVIDER:"Amazon Bids Provider is Ready",READY_PREBID_BIDS_PROVIDER:"Prebid Bids Provider is Ready",READY_ALL_PROVIDERS:"All providers ready",SET_TARGETING:"Set targeting",REFRESH_GPT_SLOT:"Refresh GPT slot",RESIZED:"resized adunit",REMOVED_GPT_SLOT:"Removed GPT slot",AD_RENDERED:"Ad Rendered",PASSBACK_RENDERED:"Passback rendered",PASS_NEXT_PLUGIN:"PASS_NEXT_PLUGIN",BRANDING_PLUGIN:"BRANDING_PLUGIN",BUZZOOLA_PLUGIN:"BUZZOOLA_PLUGIN",CONTENTROLL_PLUGIN:"CONTENTROLL_PLUGIN",MAILRU_PLUGIN:"MAILRU_PLUGIN",NATIVEROLL_PLUGIN:"NATIVEROLL_PLUGIN",VIDEONOW_PLUGIN:"VIDEONOW_PLUGIN",YANDEX_OUTSTREAM_PLUGIN:"YANDEX_OUTSTREAM_PLUGIN",YANDEX_RTB_PLUGIN:"YANDEX_RTB_PLUGIN",BETWEEN_PLUGIN:"BETWEEN_PLUGIN",ROXOT_PLUGIN:"ROXOT_PLUGIN",VIDVERTO_PLUGIN:"VIDVERTO_PLUGIN",ANIVIEW_PLUGIN:"ANIVIEW_PLUGIN",PREFETCH_INIT_LEVEL:"prefetch init level",PREFETCH_REFRESH:"prefetch refresh slot",PREFETCH_TIMEOUT:"prefetch timeout",PREFETCH_READY_ALL_PROVIDERS:"prefetch all providers ready",ADFOX_STARTED:"Adfox unit started",ADFOX_ONLOAD:"received response from request",ADFOX_ONRENDER:"received code was inserted to container",ADFOX_ONERROR:"network error (e.g. 404) or baner code contains syntax error",ADFOX_ONSTUB:"server returned stub, container is empty",VIOUSLY_STARTED:"Viously unit started"};!function(e){e.requested="requested",e.rendered="rendered",e.error="error",e.destroyed="destroyed",e.empty="empty",e.timeout="timeout"}(r||(r={})),function(e){e.global="global",e.gam="gam",e.adfox="adfox",e.amazon="amazon",e.prebid="prebid",e.viously="viously",e.yandexRtb="yandex-trb"}(i||(i={}))},97574:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ie}});var r=n(22928),i=n(4942),o=n(42982),s=n(70885),a=n(50361),d=n.n(a),l=n(67294),u=n(51824),c=n(39166),v=n(47166),p=n.n(v),h=n(19302),f=n(80191),g=n(34945),y=n(32258),m=n(44870),b=n(96489),S=n(72176),w=n(41189),E=n(83608),N=n.n(E),P=n(4732),I=n(82017),O=n(21791),R=n(44633),T=n(1745),L=n(44963),D=n(98998),A=n(98952),_=n(27087),k=n(99562),j=n(15671),Z=n(43144),x=n(99952),U=n(2340),G=n(64656);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=new(function(){function e(){(0,j.Z)(this,e),(0,i.Z)(this,"logs",[]),(0,i.Z)(this,"analyticsUrl",void 0)}return(0,Z.Z)(e,[{key:"init",value:function(e){this.analyticsUrl=e}},{key:"push",value:function(e){this.logs.push(e)}},{key:"flush",value:function(){this.logs.length>0&&(x.Z.post("".concat(this.analyticsUrl,"/collectAdsEvents"),JSON.stringify({events:this.logs}),{withCredentials:!1,headers:{"Content-Type":"text/plain"}}).catch((function(){console.log("ERROR send analytics for advert")})),this.logs=[])}}]),e}());setInterval((function(){M.flush()}),1e4);var B=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,j.Z)(this,e),(0,i.Z)(this,"logStack",void 0),(0,i.Z)(this,"slotName",void 0),(0,i.Z)(this,"url",void 0),(0,i.Z)(this,"country",void 0),(0,i.Z)(this,"deviceType",void 0),(0,i.Z)(this,"deviceId",void 0),(0,i.Z)(this,"property",void 0),(0,i.Z)(this,"pageNumber",void 0),this.logStack=t,Object.assign(this,n)}return(0,Z.Z)(e,[{key:"push",value:function(e){M.push(V(V({},e),{},{slotName:this.slotName,country:this.country,place:this.url,deviceType:this.deviceType,deviceId:this.deviceId,property:this.property,pageNumber:this.pageNumber}))}}]),e}(),z=n(53696),F=n.n(z),W=n(83636),H=n.n(W),Y=n(85893);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q,K=b.Nw.setLoadOnceAdvert,$=p().bind(F());q=(0,f.g)()?function(){throw new Error("createAdUnit does not work on server!")}:n(36206).g;var Q=p().bind(H()),ee=0;function te(e){null==e||e.setAttribute("data-adunit-started","true")}var ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.5,t=(0,I.$$)();return t*e},re=function(e){var t=(0,l.useState)(ne),n=(0,s.Z)(t,2),i=n[0],a=n[1],v=e.adUnitType,p=e.onHide,f=e.onShow,b=e.autoRefreshDelay,E=e.startMode,j=e.rootMinHeight,Z=e.articleId,x=e.mods||k.l.mods,C=e.innerMods||k.l.innerMods,V=(0,l.useRef)(E);V.current=E;var z=(0,l.useRef)(null),F=(0,l.useRef)(null),W=(0,l.useRef)(void 0),X=(0,l.useRef)(void 0),re=(0,l.useRef)(!1),ie=(0,l.useRef)(p);ie.current=p;var oe=(0,l.useRef)(f);oe.current=f;var se=(0,l.useRef)(!1),ae=(0,l.useRef)(""),de=(0,l.useRef)(!1),le=(0,l.useRef)(!1),ue=(0,l.useState)(!1),ce=(0,s.Z)(ue,2),ve=ce[0],pe=ce[1],he=(0,l.useState)(!1),fe=(0,s.Z)(he,2),ge=fe[0],ye=fe[1],me=(0,l.useState)(void 0),be=(0,s.Z)(me,2),Se=be[0],we=be[1],Ee=Q.apply(void 0,(0,o.Z)(x)),Ne=Q.apply(void 0,(0,o.Z)(C).concat([H()["advert-center"]])),Pe=(0,D.I)(),Ie=(0,c.v9)(R.QT),Oe=(0,c.v9)(R.$o),Re=Ie.advertisement,Te=Re.adUnit,Le=Re.provider,De=(0,c.v9)(L.C6),Ae=(0,c.v9)((0,O.Nt)(Z)),_e=(0,c.v9)(m.Ro),ke=(0,_.z9)(),je=(0,c.v9)(m.GB)[v],Ze=(0,S.B)(),xe=Te[v],Ue=null==xe?void 0:xe.loadOnceIfInfiniteScroll,Ge=Ae&&(!je||re.current);ae.current||(ee++,ae.current="advert_"+ee);var Ce=(0,h.Z)((function(){var e;se.current||(pe(!1),ye(!0),null===(e=oe.current)||void 0===e||e.call(oe),we(void 0),Ue&&!je&&(re.current=!0,Pe(K({adUnitType:v,value:!0}))))}),200),Ve=(0,s.Z)(Ce,2),Me=Ve[0],Be=Ve[1];(0,l.useEffect)((function(){return function(){je&&Pe(K({adUnitType:v,value:!1}))}}),[v,Pe,je]),(0,l.useEffect)((function(){De&&!Ge&&(null==p||p())}),[Ge,De,p]);var ze=(0,l.useCallback)((function(){var e;Be(),se.current||(pe(!0),ye(!0),null===(e=ie.current)||void 0===e||e.call(ie))}),[Be]),Fe=(0,l.useMemo)((function(){return xe?d()(J(J({},xe),{},{onSlotShown:Me,onSlotRemoved:ze,divId:ae.current,features:Ie.features,countryCode:Oe.countryCode,adUnitType:v,purchasedTrafficSource:ke})):void 0}),[xe,Me,ze,Ie,Oe.countryCode,v,ke]);(0,l.useEffect)((function(){xe&&"number"==typeof xe.viewportPreload&&a(ne(xe.viewportPreload))}),[xe]);var We=(0,_.Z7)({lastHeight:Se,isHidden:ve,rootMinHeight:j}),He=(0,_._9)({adUnitForType:xe}),Ye=(0,l.useMemo)((function(){return E===k.V.Viewport||E===k.V.Immediately?{}:{rootMargin:"20000px 0px ".concat(i,"px 0px")}}),[E,i]),Xe=(0,g.F)(Ye),Je=(0,s.Z)(Xe,2),qe=Je[0],Ke=Je[1];de.current=Ke;var $e=function(e){var t,n,r=e.isDestroyedRef,i=e.startedRef,o=e.rootRef,a=e.adUnitInstance,d=e.advertRef,u=e.disabled,v=(0,l.useMemo)(I.$$,[]),p=(0,l.useState)(0),h=(0,s.Z)(p,2),f=h[0],g=h[1],y=(t=N()(0,3),n=(0,c.v9)((0,O.R5)(t)),(0,l.useCallback)((function(e){return'\n      <div style="display: flex; justify-content: center;">\n        <a style="position: relative; height: '.concat(e,'px;" href="').concat(null==n?void 0:n.link,'">\n          <img\n            alt="Install app"\n            src="').concat(null==n?void 0:n.image,'"\n            width="auto"\n            height="100%"\n            style="max-height: 250px"\n          />\n        </a>\n      </div>\n  ')}),[null==n?void 0:n.link,null==n?void 0:n.image])),m=(0,P.O)((function(e){var t;if(!u){var n=((null===(t=o.current)||void 0===t?void 0:t.offsetTop)||0)>window.scrollY;if(!e&&f){if(n)return;if(r.current=!0,i.current=!1,o.current&&(o.current.adUnitInstance=void 0),a.current){try{var s=d.current,l=null==s?void 0:s.offsetHeight,c=null==s?void 0:s.parentElement;c&&c.insertAdjacentHTML("beforeend",y(l)),a.current.destroy(),null!=s&&s.parentElement&&s.remove()}catch(e){(0,I.eK)(e)}a.current=void 0,g(0)}}else e&&!f&&g(2*v)}}),{rootMargin:"".concat(f,"px")});return[(0,s.Z)(m,1)[0]]}({onSlotRemoved:ze,isDestroyedRef:se,startedRef:le,rootRef:z,adUnitInstance:W,advertRef:F,onHideRef:ie,disabled:!_e||!Ze||Ue}),Qe=(0,s.Z)($e,1)[0],et=(0,l.useCallback)((function(e){z.current=e,qe&&qe(e),Qe&&Qe(e)}),[qe,Qe]);(0,l.useEffect)((function(){return b&&(X.current=setInterval((function(){var e,t;z.current&&we(z.current.offsetHeight),null===(e=W.current)||void 0===e||null===(t=e.adUnit)||void 0===t||t.restart()}),b)),function(){X.current&&(clearInterval(X.current),X.current=void 0)}}),[b]);var tt=function(e){var t=e.adUnitType,n=(0,c.v9)(R.v3).WL_ANALYTICS_URL,r=(0,c.v9)(R.$o),i=(0,U.hU)(),o=(0,c.v9)(G.kD);return M.init(n),function(){return new B(M,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}({slotName:t,country:r.countryCode,url:window.location.pathname,deviceType:i,deviceId:o,property:r.brandingName,pageNumber:1})}({adUnitType:v});return(0,y.v)((function(){if(Ge){if(Fe){var e,t=document.createElement("div");t.setAttribute("id",ae.current),t.setAttribute("class",Ne),F.current=t,He.maxHeight&&(t.style.maxHeight=He.maxHeight+"px"),He.maxWidth&&(t.style.maxWidth=He.maxWidth+"px"),He.overflow&&(t.style.overflow=He.overflow),null===(e=z.current)||void 0===e||e.appendChild(t);try{W.current=q(Fe,Le,tt),z.current&&(z.current.adUnitInstance=W.current),(de.current||V.current===k.V.Immediately)&&(le.current=!0,W.current.start(),te(z.current))}catch(e){tt.push({status:T.G2.error,advertProvider:T.fV.global}),(0,I.eK)(e),ze()}}else{var n,r=Object.keys(Te).filter((function(e){return Boolean(Te[e])})).join(","),i=Object.keys((null==Ie||null===(n=Ie.advertisement)||void 0===n?void 0:n.provider)||{}).join(",");tt.push({status:T.G2.error,advertProvider:T.fV.global}),console.error(new Error("WARNING!!!! No config for adUnit type: "+v),"Advertising.error.config","Available units: ".concat(r,", providerKeys: ").concat(i)),ze()}var o=F.current;return function(){if(Be(),se.current=!0,le.current=!1,z.current&&(z.current.adUnitInstance=void 0),W.current){try{W.current.destroy(),o&&o.parentElement&&o.remove()}catch(e){(0,I.eK)(e)}W.current=void 0}}}}),[Pe,Fe,v,Ge,Ne,Ie,Te,Be,ze,He]),(0,y.v)((function(){if(Ke&&Ge&&W.current&&!le.current){le.current=!0;try{W.current.start(),te(z.current)}catch(e){(0,I.eK)(e),ze()}}}),[Ge,Ke,v,Pe,ze]),Fe&&Ge?(0,Y.jsx)("div",{className:Ee,ref:et,style:We,"data-test-id":"advert-"+v,"data-adunit-type":v,children:(e.title||e.onClose)&&(0,r.Z)("div",{className:$("head",{head_showed:ge}),style:{maxWidth:He.maxWidth}},void 0,e.onClose&&(0,r.Z)("button",{className:$("close"),onClick:e.onClose},void 0,(0,r.Z)(A.Z,{svg:w.Z}),(0,r.Z)(u.Z,{id:"wl.common.close"})),ge&&e.title&&(0,r.Z)("div",{className:$("text")},void 0,(0,r.Z)(u.Z,{id:"wl.common.advertisement"})))}):null};re.defaultProps=k.l;var ie=re},36206:function(e,t,n){"use strict";n.d(t,{g:function(){return K}});var r,i,o=n(17361),s=n(80576),a=n(82017),d=(0,a.Rv)();d.TSPADS.plugins["yandex-rtb"]=(r="YANDEX_RTB_PLUGIN",i={},{handleMessage:function(e,t){var n=!1;(0,s.N)(e),(0,s.N)(t);var l=String(t.blockId||!1),u=(0,o.T)(e.getElement());if((0,s.N)(u),l&&u.id){if(i[l]?i[l]+=1:i[l]=1,l&&u.id){var c=(0,o.T)((function(){var o,c;(0,s.N)(u);var v=null===(o=d.Ya)||void 0===o||null===(c=o.Context)||void 0===c?void 0:c.AdvManager;(0,s.N)(v),v.render({blockId:l,renderTo:u.id,pageNumber:i[l],horizontalAlign:!1,async:!0,onRender:function(t){n||((0,s.N)(e),e.getLogger().push({type:r,payload:t,info:"Yandex-rtb Ad Shown"}),console.log("Yandex-rtb Ad Shown",e,t),e.onSlotShown&&e.onSlotShown())},onError:function(t){(0,s.N)(e),console.log("Yandex-rtb Ad Shown",e,t),console.log({type:r,payload:t,info:"Error on render"}),e.onSlotRemoved&&e.onSlotRemoved(),e.getLogger().push({type:r,payload:t,info:"Error on render"})}},(function(){n||((0,s.N)(e),(0,s.N)(t),e.getLogger().push({type:r,info:"Yandex-rtb error/finish"}),(0,a.t7)(e,t),u=void 0,e=void 0,t=void 0)}))})),v="yandexContextAsyncCallbacks";d[v]=d[v]||[];var p=d[v];(0,s.N)(p),p.push((function(){!n&&c&&(c(),c=void 0)}));var h=document.createElement("script");return h.type="text/javascript",h.src="//an.yandex.ru/system/context.js",h.async=!0,document.head.append(h),function(){var r,i;n=!0,c=void 0;var o=null===(r=d.Ya)||void 0===r||null===(i=r.Context)||void 0===i?void 0:i.AdvManager;o&&o.destroy({blockId:l}),u=void 0,e=void 0,t=void 0,h.remove()}}e.getLogger().push({type:r,payload:t,info:"Misconfiguration"})}else e.getLogger().push({type:r,payload:t,info:"Misconfiguration"})}}),(0,a.Rv)().TSPADS.plugins.nativeroll={handleMessage:function(e,t){var n=e.getElement();(0,s.N)(n);var r=(0,a.Wc)(t.width),i=(0,a.Wc)(t.height);n.innerHTML="",n.style.display="flex",n.style.flexDirection="column",n.style.alignItems="center";var o=(0,a.Vz)(n,function(e){return"\n    <script>\n      var win = window.top;\n      var element = document.createElement('div');\n      document.body.appendChild(element);\n      \n      var payload = ".concat(JSON.stringify(e),";\n  \n      var passNext = function passNext() {\n        win.postMessage(JSON.stringify({\n          type: 'TSPADS_PLUGIN_PASSNEXT',\n          payload: payload\n        }), window.origin);          \n      };\n  \n      var log = function log(message) {\n        win.postMessage(JSON.stringify({\n          type: 'TSPADS_PLUGIN_LOG',\n          logType: 'NATIVEROLL_PLUGIN',\n          info: message,\n          payload: { name: payload.name }\n        }));          \n      };\n    \n      ((a, b, c, d, e, f) => {\n        var g = b.createElement(c);\n        g.src = d;\n        g.type = 'application/javascript';\n        g.async = !0;\n        var h = b.getElementsByTagName(c)[0];\n        if (h && h.parentNode) {\n          h.parentNode.insertBefore(g, h);\n        } else {\n          b.head.append(g);\n        }\n        a[f] = [];\n        a[e] = function () {\n          a[f].push(Array.prototype.slice.apply(arguments));\n        };\n      })(\n        window,\n        document,\n        'script',\n        'https://cdn01.nativeroll.tv/js/seedr-player.min.js',\n        'SeedrPlayer',\n        'seedrInit'\n      );\n      \n      function startPlayer() {\n        if (!window.SeedrPlayer) {\n          setTimeout(startPlayer, 100);\n          return;\n        }\n\n        console.log('Script is ready. Start SeedrPlayer');\n        window.SeedrPlayer({\n          //это отладочный режим, в нём nativeroll показывает заглушку вместо рекламы, \n          //и не переключается на следующий плагин\n          //debug: true,\n          width: parseInt(String(payload.width), 10),\n          container: element,\n          desiredOffset: 50,\n          gid: payload.gid,\n          onLoad: function() {\n            console.log('Branding Ad Shown');\n            log('Branding Ad Shown');\n          },\n          onError: function (e) {\n            console.log('error', e);\n            log('ERROR ' + String(e));\n    \n            passNext();\n          }\n        });\n      }\n      \n      startPlayer();      \n    <\/script>\n")}(t),{width:r,height:i},e);return function(){o.remove()}}};var l=(0,a.Rv)();l.TSPADS.plugins["yandex-outstream"]=function(){var e="YANDEX_OUTSTREAM_PLUGIN";return{handleMessage:function(t,n){var r=!1;(0,s.N)(t),(0,s.N)(n);var i=String(n.blockId||!1),d=(0,o.T)(t.getElement());(0,s.N)(d),d.innerText="";var u=(0,o.T)(d.parentElement);(0,s.N)(u);var c=d.outerHTML;if(i&&d.id){var v=(0,o.T)((function(){var o,v;(0,s.N)(n),(0,s.N)(d),d.innerHTML="",d.style.display="block",d.style.height="".concat(n.height),d.style.minWidth="".concat(n.width);var p=null===(o=l.Ya)||void 0===o||null===(v=o.Context)||void 0===v?void 0:v.AdvManager;(0,s.N)(p),p.render({blockId:i,renderTo:d.id,horizontalAlign:!1,async:!0,onRender:function(n){r||((0,s.N)(t),t.getLogger().push({type:e,payload:n,info:"Yandex outstream Ad Shown"}))}},(function(){if(!r){(0,s.N)(t),(0,s.N)(n),(0,s.N)(d),(0,s.N)(u),t.getLogger().push({type:e,info:"Yandex outstream error/finish"});var i=(0,a.vA)(c);d.parentElement===u?u.insertBefore(i,d):u.append(i),d.remove(),(0,a.t7)(t,n),d=void 0,u=void 0,t=void 0,n=void 0}}))})),p="yandexContextAsyncCallbacks";l[p]=l[p]||[];var h=l[p];(0,s.N)(h),h.push((function(){!r&&v&&(v(),v=void 0)}));var f=document.createElement("script");return f.type="text/javascript",f.src="//an.yandex.ru/system/context.js",f.async=!0,document.head.append(f),function(){var e,o;r=!0,v=void 0;var s=null===(e=l.Ya)||void 0===e||null===(o=e.Context)||void 0===o?void 0:o.AdvManager;s&&s.destroy({blockId:i}),d=void 0,u=void 0,t=void 0,n=void 0,f.remove()}}t.getLogger().push({type:e,payload:n,info:"Misconfiguration"})}}}();var u=n(53696),c=n.n(u);(0,a.Rv)().TSPADS.plugins.buzzoola={handleMessage:function(e,t){var n=e.getElement();(0,s.N)(n),n.innerHTML="",n.style.display="flex",n.style.flexDirection="column",n.style.alignItems="center";var r=(0,a.Wc)(t.width),i=(0,a.Wc)(t.height),o=(0,a.Vz)(n,function(e){var t=e.hash,n=(0,a.Wc)(e.width),r=(0,a.Wc)(e.height),i=(0,a.vA)('\n  <div\n    class="'.concat(c().advertisment,' js-advertisment advertisment"\n  >\n    ').concat((0,a.Rv)().TSPADS.i18n.adsLabel||"advertisment","\n  </div>\n"));return"\n    <script>\n      var win = window.top;\n      var template = document.createElement('template');\n      template.innerHTML = '<div class=\"buzzplayer-stage\" style=\"width: ".concat(n,"; position: relative; height: ").concat(r,'" data-hash="').concat(t,"\"></div>';\n      var element = template.content;\n      document.body.appendChild(element);\n      \n      var payload = ").concat(JSON.stringify(e),";\n  \n      var passNext = function passNext() {\n        win.postMessage(JSON.stringify({\n          type: 'TSPADS_PLUGIN_PASSNEXT',\n          payload: payload\n        }), window.origin);          \n      };\n  \n      var log = function log(message) {\n        win.postMessage(JSON.stringify({\n          type: 'TSPADS_PLUGIN_LOG',\n          logType: 'BUZZOLA_PLUGIN',\n          info: message,\n          payload: { name: payload.name }\n        }));          \n      };\n  \n      window.onBuzzoolaPlayerReady = function(player) {\n        element.append('").concat(i,"');\n        var cont;\n        if (player.container && player.container.parentNode) {\n          cont = player.container;\n        } else {\n          cont = player.embed_container;\n        }\n        var parent = cont.parentNode;\n        var mark = document.createElement('div');\n        mark.style.display = 'none !important';\n        parent.insertBefore(mark, cont);\n  \n        player.on('event:state', function(state) {\n          log('Buzzoola Ad Shown');\n  \n          if (state === 'ready' && mark && mark.parentNode) {\n            parent.removeChild(mark);\n          } else if (state === 'finish') {\n            log('FINISH');\n            passNext();\n          }\n        });\n        player.on('error', function(error) {\n          log('ERROR: ' + String(error));\n          passNext();\n        });\n      };\n  \n      var script = document.createElement('script');\n      script.src = 'https://tube.buzzoola.com/new/build/buzzlibrary.js';\n      script.type = 'text/javascript';\n      script.async = !0;\n      document.head.append(script);\n    <\/script>\n  ")}(t),{width:r,height:i},e);return function(){o.remove()}}},(0,a.Rv)().TSPADS.plugins.videonow=function(){var e="VIDEONOW_PLUGIN";return{handleMessage:function(t,n){(0,s.N)(t),(0,s.N)(n),window.noVNAd=function(){(0,s.N)(t),(0,s.N)(n),t.getLogger().push({type:e,info:"ERROR",payload:"noVNAd window function called. calling passNext"}),(0,a.t7)(t,n),t=null,n=null};var r=t.getElement();(0,s.N)(r);var i=String(n.width||"600px"),o=String(n.height||"400px");r.style.minHeight="".concat(o),r.style.minWidth="".concat(i),r.innerText="";var d=document.createElement("iframe");return d.height=o,d.width=i,d.style.border="0",r&&r.append(d),(0,s.N)(d.contentWindow),d.contentWindow.document.open(),d.contentWindow.document.write(function(e){return'\n    <body style="padding: 0; margin: 0">\n      <script src="https://static.videonow.ru/vn_init.js?profileId='.concat(e.profileId,'" defer><\/script>\n    </body>\n  ')}(n)),d.contentWindow.document.close(),t.getLogger().push({type:e,payload:n,info:"Videonow rendered"}),function(){window.noVNAd=null,d.remove()}}}}(),(0,a.Rv)().TSPADS.plugins.contentroll={handleMessage:function(e,t){var n=e.getElement();(0,s.N)(n);var r=t.width||"600px",i=t.height||"400px";n.style.minHeight="".concat(i),n.style.minWidth="".concat(r),n.style.display="",n.innerText="";var o=document.createElement("iframe");return o.height=String(i),o.width=String(r),o.style.border="0",n&&n.append(o),(0,s.N)(o.contentWindow),o.contentWindow.document.open(),o.contentWindow.document.write(function(e){return'\n    <body style="padding: 0; margin: 0">\n        <div id="utCRoll"></div>\n        <script>\n          var win = window.top;\n          var payload = '.concat(JSON.stringify(e),";\n          var passNext = function passNext() {\n            win.postMessage(JSON.stringify({\n              type: 'TSPADS_PLUGIN_PASSNEXT',\n              payload: payload\n            }), window.origin);          \n          };\n          var log = function log(message) {\n            win.postMessage(JSON.stringify({\n              type: 'TSPADS_PLUGIN_LOG',\n              logType: 'CONTENTROLL_PLUGIN',\n              info: message,\n              payload: { name: payload.name }\n            }));          \n          };\n                  \n          window.utCRoll = {\n            id: '").concat(e.id,"',\n            w: '").concat(e.width,"',\n            h: '").concat(e.height,'\',\n            onClose: function () {\n              if (win) {\n                log(\'contentroll onClose called\');\n                passNext();\n              }\n            }\n          };\n          var script = document.createElement("script");\n          script.type = "text/javascript"; \n          script.charset = "UTF-8";\n          script.async = true;\n          script.src = "//ima.utraff.com/new/contentroll.js";\n          script.onload = function() {\n            //window.utCRoll.debug = 1;\n            log(\'contentroll script loaded\');\n          };\n          script.onerror = function(e) {\n            log(\'contentroll script error: \' + e.message);\n            passNext();\n          };          \n          document.head.appendChild(script);                    \n        <\/script>\n    </body>\n  ')}(t)),o.contentWindow.document.close(),e.getLogger().push({type:"CONTENTROLL_PLUGIN",payload:t,info:"Contentroll rendered"}),function(){o.remove()}}},(0,a.Rv)().TSPADS.plugins.mailru=function(){var e="MAILRU_PLUGIN";return{handleMessage:function(t,n){(0,s.N)(t),(0,s.N)(n);var r=function(r){if("https://player-smotri.mail.ru"===r.origin){var i=r.data||{},o=i.type,d=i.options||{},l=d.playState,u=void 0===l?"":l,c=d.data,v=d.name,p=(null==c?void 0:c.name)||v;"sendVideojsErrorToSite"!==o&&("sendVideoPlayStateToSite"!==o||"ended "!==u&&"error"!==u)||((0,s.N)(t),(0,s.N)(n),t.getLogger().push({type:e,info:"ERROR",payload:"error or finish: type = ".concat(o,", playState = ").concat(u,", errorDataName = ").concat(p,". calling passNext")}),(0,a.t7)(t,n),t=null,n=null)}};window.addEventListener("message",r);var i=t.getElement();(0,s.N)(i);var o=String(n.width||"560"),d=String(n.height||"315");i.style.minHeight="".concat(d,"px"),i.style.minWidth="".concat(o,"px"),i.innerText="";var l=document.createElement("iframe");return l.setAttribute("height",d),l.setAttribute("width",o),l.setAttribute("allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"),l.setAttribute("allowfullscreen",""),l.setAttribute("frameborder","0"),l.setAttribute("src","https://player-smotri.mail.ru?streamId=smotri_partners_adme"),l.style.border="0",i.append(l),t.getLogger().push({type:e,payload:n,info:"Mailru rendered"}),function(){l.remove(),window.removeEventListener("message",r)}}}}(),(0,a.Rv)().TSPADS.plugins.between={handleMessage:function(e,t){var n=e.getElement();(0,s.N)(n);var r=t.width||"600px",i=t.height||"400px";n.style.minHeight="".concat(i),n.style.minWidth="".concat(r),n.style.display="",n.innerText="";var o=document.createElement("iframe");o.height=String(i),o.width=String(r),o.style.border="0",n&&n.append(o),(0,s.N)(o.contentWindow);var a=o.contentWindow.document,d=a.createElement("script");d.text="\n        window.__adds_params__ = {\n          '3913549': {\n            video_fallback: \n            '<div id=\"fallback\"><script>' + \n            'var win = window.top; var payload = ".concat(JSON.stringify(t),"; ' +\n              'win.postMessage(JSON.stringify({' +\n                'type: \"TSPADS_PLUGIN_LOG\",' +\n                'logType: \"BETWEEN_PLUGIN\",' +\n                'info: \"fallback script called\",' +\n                'payload: { name: payload.name }' +\n              '}));' +\n              'win.postMessage(JSON.stringify({' +\n                'type: \"TSPADS_PLUGIN_PASSNEXT\",' +\n                'payload: payload' +\n              '}), window.origin);' +                           \n            '<\/script></div>'\n          }\n        };    \n    ");var l=a.createElement("script");l.async=!0,l.src="https://cache.betweendigital.com/sections/2/3913549.js";var u=a.createElement("div");return u.id="b_script_3913549",a.head.appendChild(d),a.head.appendChild(l),a.body.appendChild(u),e.getLogger().push({type:"BETWEEN_PLUGIN",payload:t,info:"Between rendered"}),function(){o.remove()}}},(0,a.Rv)().TSPADS.plugins.wmg={handleMessage:function(e,t){var n=e.getElement();(0,s.N)(n),n.innerHTML="",n.style.display="flex",n.style.flexDirection="column",n.style.alignItems="center";var r=(0,a.Wc)(t.width),i=(0,a.Wc)(t.height),o=(0,a.Vz)(n,function(e){var t=(0,a.Wc)(e.width),n=(0,a.Wc)(e.height);return'\n      <div class="video-container">\n        <div class="wmg-vb-container">\n          <script\n            type="text/javascript"\n            src="https://s0.2mdn.net/instream/html5/ima3.js"\n          ><\/script>\n          <script\n            type="text/javascript"\n            src="https://securepubads.g.doubleclick.net/tag/js/gpt.js"\n          ><\/script>\n          <div\n            style="\n              width: '.concat(t,";\n              height: ").concat(n,';\n              margin: auto;\n              position: relative;\n              transition: all 700ms linear;\n              overflow: hidden;\n            "\n          >\n            <div id="wmg-player" style="height: inherit; width: inherit"></div>\n            <script\n              id="wmg-source"\n              muted\n              wmg-hide-controls\n              wmg-autoplay\n              wmg-end-event="adEndEvent"\n              wmg-vast-tag="https://tpc.googlesyndication.com/ima3vpaid?vad_format=linear&correlator=&adtagurl=https%3A%2F%2Fpubads.g.doubleclick.net%2Fgampad%2Fads%3Fiu%3D%2F112081842%2Fadme.ru_640x480_player%26description_url%3Dhttps%253A%252F%252Fadme.ru%26tfcd%3D0%26npa%3D0%26sz%3D640x480%26gdfp_req%3D1%26output%3Dvast%26unviewed_position_start%3D1%26env%3Dvp%26vpos%3Dpreroll%26vpmute%3D1%26vpa%3Dauto%26type%3Djs%26vad_type%3Dlinear"\n              src="https://d3f4nuq5dskrej.cloudfront.net/js/vpl/adwmg_vpl.js"\n            ><\/script>\n  \n            <script>\n              function adEndEvent() {\n                var win = window.top;\n                var payload = ').concat(JSON.stringify(e),";\n                \n                var log = function log(message) {\n                  win.postMessage(JSON.stringify({\n                    type: 'TSPADS_PLUGIN_LOG',\n                    logType: 'WMG_PLUGIN',\n                    info: message,\n                    payload: { name: payload.name }\n                  }));          \n                };\n                \n                var passNext = function passNext() {\n                  win.postMessage(JSON.stringify({\n                    type: 'TSPADS_PLUGIN_PASSNEXT',\n                    payload: payload\n                  }), window.origin);          \n                };\n                \n                var wmgPlayer = document.getElementById(\"wmg-player\");\n                var wmgPlayerParent = wmgPlayer.parentNode;\n                wmgPlayerParent.style.display = \"none\";\n                \n                log('ERROR: wmg player end event');\n                passNext();                \n              }\n            <\/script>\n          </div>\n        </div>\n      </div>\n  ")}(t),{width:r,height:i},e);return function(){o.remove()}}},(0,a.Rv)().TSPADS.plugins.vidverto={handleMessage:function(e,t){var n=e.getElement();(0,s.N)(n);var r=(0,a.Wc)(t.width),i=(0,a.Wc)(t.height);n.innerHTML="",n.style.display="flex",n.style.flexDirection="column",n.style.alignItems="center";var o=(0,a.Vz)(n,function(e){var t="_vidverto-a0ff877eb9e249294cc8d6f8ca8cded0";return'\n    <script async="async" src="//ad.vidverto.io/vidverto/js/aries/v1/invocation.js"><\/script>\n    <div id="'.concat(t,'"></div>\n    <script>\n      var win = window.top;\n      var payload = ').concat(JSON.stringify(e),";\n  \n      var passNext = function passNext() {\n        win.postMessage(JSON.stringify({\n          type: 'TSPADS_PLUGIN_PASSNEXT',\n          payload: payload\n        }), window.origin);   \n      };\n  \n      var log = function log(message) {\n        win.postMessage(JSON.stringify({\n          type: 'TSPADS_PLUGIN_LOG',\n          logType: 'VIDVERTO_PLUGIN',\n          info: message,\n          payload: { name: payload.name }\n        }));          \n      };\n    \n      (function (){\n        window.aries = window.aries || {};\n        window.aries.v1 = window.aries.v1 || {commands: []};\n        window.adme = window.adme || {};\n        window.adme.adv = window.adme.adv || {};\n        window.adme.adv.vvt = window.adme.adv.vvt || {};\n\n        const aries = window.aries.v1;\n\n        aries.commands.push(() => {\n          const zoneId = '").concat("6488","';\n          const slot = document.getElementById('").concat(t,"');\n          slot.removeAttribute('id');\n          aries.mount(zoneId, slot, {\n            width: '").concat(Number(e.width)||720,"',\n            height: '").concat(Number(e.height)||405,"',\n          });\n        });\n        window.adme.adv.vvt.onLoad = function () {\n          log('Vidverto plugin load');\n        }\n        \n        window.adme.adv.vvt.onStart = function () {\n          log('Vidverto plugin started');\n        }\n        \n        window.adme.adv.vvt.onStop = function () {log('Vidverto plugin onStop');passNext();}\n        window.adme.adv.vvt.onEmpty = function () {log('Vidverto plugin onEmpty');passNext();}\n      })();\n    <\/script>\n")}(t),{width:r,height:i},e);return function(){o.remove()}}},(0,a.Rv)().TSPADS.plugins.roxot={handleMessage:function(e,t){var n=e.getElement();(0,s.N)(n);var r=(0,a.Wc)(t.width),i=(0,a.Wc)(t.height),o=function(n){return e.getLogger().push({type:"ROXOT_PLUGIN",info:n,payload:t})};window.getRoxotSettings=function(){return{onAdImpression:function(){o("roxot add impression")},onAdEmpty:function(){o("roxot ad empty"),(0,a.t7)(e,t)}}},n.innerHTML="",n.style.display="flex",n.style.flexDirection="column",n.style.alignItems="center";var d,l,u,c,v,p,h=(0,a.Vz)(n,(l=(d=t).pid,u=d.host,c=d.targetingMap,v=d.name,p=d.placementId,'\n    <script src="https://cdn-plus.roxot-panel.com/roxot-wrapper/js/roxot-creative.js"><\/script>\n    <script>\n      var settings = {\n        pid: \''.concat(l,"',\n        host: '").concat(u,"',\n        targetingMap: ").concat(c,",\n        adManagerAdUnit: '").concat(v,"',\n        placementId: '").concat(p,"',\n        dataSettingsFunction: 'getRoxotSettings'\n      }\n      romCreative.display(window.top, settings);\n    <\/script>\n")),{width:r,height:i},e);return function(){h.remove()}},doNotDestroyGptSlot:!0},(0,a.Rv)().TSPADS.plugins.aniview={handleMessage:function(e,t){var n=e.getElement();(0,s.N)(n),n.innerHTML="",n.style.display="flex",n.style.flexDirection="column",n.style.alignItems="center";var r=(0,a.Vz)(n,function(e){return'\n  <script async id="'.concat(e.avId,'" type="text/javascript" src="https://tg1.aniview.com/api/adserver/spt?AV_TAGID=').concat(e.avTagId,"&AV_PUBLISHERID=").concat(e.avPublisherId,'"><\/script>\n')}(t),{width:"100%",height:"1px"},e);return e.getLogger().push({type:"ANIVIEW_PLUGIN",payload:t,info:"Aniview rendered"}),function(){r.remove()}}};var v=n(4942),p=n(15671),h=n(43144),f=n(1745),g=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,p.Z)(this,e),(0,v.Z)(this,"logs",void 0),(0,v.Z)(this,"createdAt",void 0),(0,v.Z)(this,"name",void 0),(0,v.Z)(this,"isDestroyed",!1),(0,v.Z)(this,"getParseLog",(function(e,n){var r=0;n>0&&(r=e.timestamp-t.logs[n-1].timestamp);var i=e.timestamp-t.createdAt;return{type:e.type,payload:e.payload||"",timestamp:e.timestamp,info:e.info||f.CD[e.type]||"",timestep:"".concat(r," ms"),timeline:"".concat(i," ms")}})),this.logs=[],this.createdAt=(new Date).getTime(),Object.assign(this,n)}return(0,h.Z)(e,[{key:"destroy",value:function(){this.isDestroyed||(this.isDestroyed=!0,this.logs=[])}},{key:"getParseLogs",value:function(){return this.logs.map(this.getParseLog)}},{key:"showLogs",value:function(){var e=this.getParseLogs();e.length>1?console.groupCollapsed("".concat(this.name," ✅")):console.groupCollapsed(this.name),console.table(e),console.groupEnd()}},{key:"push",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isDestroyed){var t={};t.timestamp=(new Date).getTime();var n=Object.assign({},e,t);this.logs.push(n)}}}]),e}(),y=[1,1],m="TSPADS_DESTROY_UNIT",b=["RU","BY"],S=function(){function e(t){(0,p.Z)(this,e),(0,v.Z)(this,"divId",void 0),(0,v.Z)(this,"name",void 0),(0,v.Z)(this,"logger",void 0),(0,v.Z)(this,"serverLogger",void 0),(0,v.Z)(this,"params",void 0),(0,v.Z)(this,"parentElement",null),(0,v.Z)(this,"isDestroyed",!1),(0,v.Z)(this,"started",!1),(0,v.Z)(this,"unit",void 0),(0,v.Z)(this,"onSlotShown",void 0),(0,v.Z)(this,"onSlotRemoved",void 0),this.params=t,Object.assign(this,t)}return(0,h.Z)(e,[{key:"destroy",value:function(){var e;if(!this.isDestroyed){var t=this.onSlotRemoved;null===(e=this.unit)||void 0===e||e.destroy(),this.isDestroyed=!0,this.parentElement=null,this.onSlotShown=void 0,this.onSlotRemoved=void 0,t&&t()}}},{key:"start",value:function(){var e;if(!this.isDestroyed||!this.started){this.started=!0;var t=this.params.data,n=t.containerId,r=t.params,i=t.bids,o=t.sizes,s=this.params.provider.ownerId,d=this.onSlotShown,l=this.logger,u=this.serverLogger,c=this.destroy.bind(this),v=document.getElementById(this.divId);if(v){var p=document.createElement("div");p.id=n,v.appendChild(p)}l.push({type:"ADFOX_STARTED",payload:{name:this.name,divId:this.divId,adFoxParams:t}}),u.push({status:f.G2.requested,advertProvider:f.fV.adfox});var h,g=(h=this,function(){var e;h.unit=null===(e=(0,a.Rv)().Ya)||void 0===e?void 0:e.adfoxCode.create({ownerId:s,containerId:n,params:r,onLoad:function(e){l.push({type:"ADFOX_ONLOAD",payload:e}),null==d||d()},onRender:function(){l.push({type:"ADFOX_ONRENDER"}),u.push({status:f.G2.rendered,advertProvider:f.fV.adfox})},onError:function(e){l.push({type:"ADFOX_ONERROR",payload:e}),c(),u.push({status:f.G2.error,advertProvider:f.fV.adfox})},onStub:function(e){l.push({type:"ADFOX_ONSTUB",payload:e}),c(),u.push({status:f.G2.empty,advertProvider:f.fV.adfox})}})});null===(e=(0,a.Rv)().Ya)||void 0===e||e.adfoxCode.hbCallbacks.push((function(){var e;Array.isArray(i)&&i.length>0&&(null===(e=(0,a.Rv)().Ya)||void 0===e||e.headerBidding.pushAdUnits([{code:n,sizes:o,bids:i}])),(0,a.Rv)().yaContextCb.push(g)}))}}},{key:"getElement",value:function(){return document.getElementById(this.divId)}},{key:"getName",value:function(){return this.name}},{key:"getDivId",value:function(){return this.divId}},{key:"getLogger",value:function(){return this.logger}},{key:"restart",value:function(){var e;null===(e=this.unit)||void 0===e||e.reload()}},{key:"removeSlot",value:function(){this.destroy()}}]),e}();function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,v.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=n(70885),P=n(42905),I=n.n(P),O=function(){function e(t){(0,p.Z)(this,e),(0,v.Z)(this,"slot",void 0),(0,v.Z)(this,"name",void 0),(0,v.Z)(this,"sizes",void 0),(0,v.Z)(this,"divId",void 0),(0,v.Z)(this,"logger",void 0),(0,v.Z)(this,"slotDestroyed",!1),Object.assign(this,t)}return(0,h.Z)(e,[{key:"init",value:function(){this.createSlot()}},{key:"createSlot",value:function(){var e=(0,a.Rv)().googletag;(0,s.N)(e);var t=this.getPubAds(),n=t?e.defineSlot(this.name,this.sizes,this.divId):void 0;n?(this.slot=n,this.slot.addService(t),this.logger.push({type:"CREATE_GPT_SLOT",payload:{sizes:this.sizes,divId:this.divId}})):this.slotDestroyed=!0}},{key:"getPubAds",value:function(){var e,t;return null===(e=(0,a.Rv)().googletag)||void 0===e||null===(t=e.pubads)||void 0===t?void 0:t.call(e)}},{key:"destroySlot",value:function(){var e;this.slotDestroyed||(this.slotDestroyed=!0,null===(e=(0,a.Rv)().googletag)||void 0===e||e.destroySlots([this.slot]))}},{key:"refresh",value:function(){var e=this.getPubAds();!this.slotDestroyed&&e&&(this.logger.push({type:"REFRESH_GPT_SLOT",payload:this.getSlotTrgs()}),e.refresh([this.slot]))}},{key:"remove",value:function(){this.destroySlot();var e=document.getElementById(this.divId);e&&(e.style.display="none",this.logger.push({type:"REMOVED_GPT_SLOT"})),window.postMessage(JSON.stringify({type:m,payload:{name:this.name}}),window.origin)}},{key:"getSlotTrgs",value:function(){if(this.slotDestroyed)return{};var e={},t=this.slot.getTargetingKeys(),n=this.slot;return t.length>0&&t.forEach((function(t){e[t]=n.getTargeting(t)})),e}},{key:"setTrgs",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.slotDestroyed||I()(t).forEach((function(t){var n=(0,N.Z)(t,2),r=n[0],i=n[1];e.setTrg(r,i)}))}},{key:"setTrg",value:function(e,t){this.slotDestroyed||(this.slot.setTargeting(e,t),"string"!=typeof t&&"number"!=typeof t&&"boolean"!=typeof t||this.logger.push({type:"SET_TARGETING",payload:"".concat(e," : ").concat(t.toString())}))}}]),e}(),R=n(41609),T=n.n(R);function L(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return{then:n.then.bind(n),catch:n.catch.bind(n),resolve:e,reject:t,promise:n}}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,v.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,a.Rv)().pbjs=(0,a.Rv)().pbjs||{},(0,a.Rv)().pbjs.que=(0,a.Rv)().pbjs.que||[];var _=function(){function e(t){(0,p.Z)(this,e),(0,v.Z)(this,"setup",void 0),(0,v.Z)(this,"timeout",void 0),(0,v.Z)(this,"name",void 0),(0,v.Z)(this,"divId",void 0),(0,v.Z)(this,"logger",void 0),(0,v.Z)(this,"slot",void 0),(0,v.Z)(this,"bids",[]),(0,v.Z)(this,"features",void 0),(0,v.Z)(this,"isDestroyed",!1),(0,v.Z)(this,"getIsNeedPrefetch",(function(){return Boolean})),(0,v.Z)(this,"serverLogger",void 0),Object.assign(this,t)}return(0,h.Z)(e,[{key:"init",value:function(){var e=this;return new Promise((function(t){(0,a.Rv)().pbjs.que.push(e.handleQuePush.bind(e,t))}))}},{key:"destroy",value:function(){this.isDestroyed||(this.isDestroyed=!0,this.divId&&!this.features.prebidUnitsInRequestOnly&&(0,a.Rv)().pbjs.removeAdUnit(this.divId),this.bids=[],this.logger=null,this.setup={bids:[],sizes:[]},this.slot=null)}},{key:"handleQuePush",value:function(e){if(!this.isDestroyed){var t=(0,a.Rv)();this.features.prebidUnitsInRequestOnly?t.pbjs.requestBids({timeout:this.timeout,adUnits:[A({code:this.divId,ortb2Imp:{ext:{gpid:this.name,data:{pbadslot:this.name}}}},this.setup)],bidsBackHandler:this.handleBidsBack.bind(this,e)}):(t.pbjs.addAdUnits([A({code:this.divId,ortb2Imp:{ext:{gpid:this.name,data:{pbadslot:this.name}}}},this.setup)]),t.pbjs.requestBids({timeout:this.timeout,adUnitCodes:[this.divId],bidsBackHandler:this.handleBidsBack.bind(this,e)}),this.serverLogger.push({advertProvider:f.fV.prebid,status:f.G2.requested})),t.pbjs.processQueue()}}},{key:"handleBidsBack",value:function(e,t){if(!this.isDestroyed){var n,r=(0,a.Rv)();null===(n=this.logger)||void 0===n||n.push({type:"READY_PREBID_BIDS_PROVIDER",payload:{bidResponse:r.pbjs.getBidResponsesForAdUnitCode(this.divId),winningBids:r.pbjs.getHighestCpmBids(this.divId),noBids:r.pbjs.getNoBids()}}),Array.isArray(r.pbjs.getNoBids()[this.divId].bids)&&r.pbjs.getNoBids()[this.divId].bids.length>0&&this.serverLogger.push({advertProvider:f.fV.prebid,status:f.G2.empty}),Array.isArray(r.pbjs.getHighestCpmBids(this.divId))&&r.pbjs.getHighestCpmBids(this.divId).length>0&&this.serverLogger.push({advertProvider:f.fV.prebid,status:f.G2.rendered}),(0,s.N)(this.slot),this.getIsNeedPrefetch()||this.slot.setTrgs(r.pbjs.getAdserverTargetingForAdUnitCode([this.divId]))}e(t)}}]),e}(),k=function(){function e(t){(0,p.Z)(this,e),(0,v.Z)(this,"bids",[]),(0,v.Z)(this,"divId",void 0),(0,v.Z)(this,"name",void 0),(0,v.Z)(this,"logger",void 0),(0,v.Z)(this,"setup",void 0),(0,v.Z)(this,"timeout",void 0),(0,v.Z)(this,"slot",void 0),(0,v.Z)(this,"isDestroyed",!1),(0,v.Z)(this,"getIsNeedPrefetch",(function(){return Boolean})),(0,v.Z)(this,"serverLogger",void 0),Object.assign(this,t)}return(0,h.Z)(e,[{key:"init",value:function(){var e=this;return new Promise((function(t,n){e.isDestroyed?n(new Error("AmazonBidsProvider for divId = ".concat(e.divId," is destroyed"))):(e.serverLogger.push({advertProvider:f.fV.amazon,status:f.G2.requested}),(0,a.Rv)().apstag.fetchBids({timeout:e.timeout,slots:[{slotID:e.divId,slotName:e.name,sizes:e.setup.sizes}]},e.handleBidsBack.bind(void 0,{self:e},t,n)))}))}},{key:"destroy",value:function(){this.isDestroyed||(this.isDestroyed=!0,this.bids=[],this.logger=null,this.setup={bids:[],sizes:[]},this.slot=null)}},{key:"getTargetings",value:function(){var e=(0,a.Rv)().apstag.targetingKeys(),t=this.bids;return e.reduce((function(e,n){var r=t&&t[0]&&t[0][n];return r&&(e[n]=r),e}),{})}},{key:"handleBidsBack",value:function(e,t,n,r){var i=e.self;if(e.self=void 0,i){if(!i.isDestroyed){var o,s;if(null===(o=i.logger)||void 0===o||o.push({type:"READY_AMAZON_BIDS_PROVIDER",payload:{bids:r}}),i.bids=r,!i.getIsNeedPrefetch()){var a,d=i.getTargetings();null===(a=i.slot)||void 0===a||a.setTrgs(d)}Array.isArray(r)&&r[0]&&""!==(null===(s=r[0])||void 0===s?void 0:s.amzniid)?i.serverLogger.push({advertProvider:f.fV.amazon,status:f.G2.rendered}):i.serverLogger.push({advertProvider:f.fV.amazon,status:f.G2.empty})}t(r)}}}]),e}(),j=function(){function e(t){(0,p.Z)(this,e),(0,v.Z)(this,"divId",void 0),(0,v.Z)(this,"logger",void 0),(0,v.Z)(this,"serverLogger",void 0),(0,v.Z)(this,"slot",void 0),(0,v.Z)(this,"name",void 0),(0,v.Z)(this,"currentLevel",void 0),(0,v.Z)(this,"timeout",void 0),(0,v.Z)(this,"levels",[]),(0,v.Z)(this,"params",void 0),(0,v.Z)(this,"parentElement",null),(0,v.Z)(this,"isDestroyed",!1),(0,v.Z)(this,"levelsParsed",!1),(0,v.Z)(this,"started",!1),(0,v.Z)(this,"onSlotShown",void 0),(0,v.Z)(this,"onSlotRemoved",void 0),(0,v.Z)(this,"pluginCleanupFn",void 0),(0,v.Z)(this,"isNeedPrefetch",!1),(0,v.Z)(this,"prefetchBidsPromise",L()),(0,v.Z)(this,"setSlotTargetsPromise",L()),this.params=t,Object.assign(this,t),this.initialize()}return(0,h.Z)(e,[{key:"initialize",value:function(){this.logger.push({type:"AD_UNIT_INITIALIZED",payload:this.divId})}},{key:"setPluginCleanupFn",value:function(e){this.cleanupPlugin(),this.pluginCleanupFn=e||void 0}},{key:"cleanupPlugin",value:function(){var e=this.pluginCleanupFn;this.pluginCleanupFn=void 0,e&&e()}},{key:"destroy",value:function(){var e=this;this.isDestroyed||(this.isDestroyed=!0,this.parentElement=null,this.onSlotShown=void 0,this.onSlotRemoved=void 0,clearTimeout(this.timeout),this.cleanupPlugin(),this.levelsParsed&&this.levels.forEach((function(t){e.destroyLevel(t)})),this.levels=[],this.destroyLevel(this.currentLevel),this.currentLevel=void 0)}},{key:"destroyLevel",value:function(e){e&&(window.clearTimeout(e.timeout),e.amazon&&((0,s.h)(e.amazon instanceof k),e.amazon.destroy()),e.prebid&&((0,s.h)(e.prebid instanceof _),e.prebid.destroy()))}},{key:"getIsNeedPrefetch",value:function(){return this.isNeedPrefetch}},{key:"prefetchBids",value:function(){this.isNeedPrefetch=!0,this.parseLevels(),this.nextLevel()}},{key:"refreshSlotWithPrefetchedBids",value:function(){var e=this;this.setSlotTargetsPromise.then((function(){e.logger.push({type:"PREFETCH_REFRESH"}),e.refresh(),e.isNeedPrefetch=!1}))}},{key:"start",value:function(){if(!this.isDestroyed&&!this.started){var e;this.started=!0,this.slot.init(),this.logger.push({type:"STARTED",payload:this.divId}),this.serverLogger.push({status:f.G2.requested,advertProvider:f.fV.gam});var t=this.getElement();this.parentElement=null!==(e=null==t?void 0:t.parentElement)&&void 0!==e?e:null,this.isNeedPrefetch?this.refreshSlotWithPrefetchedBids():(this.parseLevels(),this.nextLevel())}}},{key:"setSlotTargets",value:function(){var e=this;this.prefetchBidsPromise.then((function(){var t=(0,a.Rv)();if(e.currentLevel){var n=e.currentLevel,r=n.amazon,i=n.prebid;if(r){(0,s.h)(r instanceof k);var o=r.getTargetings();e.slot.setTrgs(o)}if(i){var d=t.pbjs.getAdserverTargetingForAdUnitCode([e.divId]);e.slot.setTrgs(d)}e.setSlotTargetsPromise.resolve(!0)}else e.setSlotTargetsPromise.resolve(!0)}))}},{key:"getElement",value:function(){return document.getElementById(this.divId)}},{key:"getName",value:function(){return this.name}},{key:"getDivId",value:function(){return this.divId}},{key:"getLogger",value:function(){return this.logger}},{key:"initCurrentLevel",value:function(){var e=this.currentLevel&&this.currentLevel.amazon,t=this.currentLevel&&this.currentLevel.prebid,n=this.currentLevel&&this.currentLevel.timeout||0;this.timeout=window.setTimeout(this.handleTimeout.bind(this),n),(0,s.h)(!e||e instanceof k),(0,s.h)(!t||t instanceof _),Promise.all([e&&e.init(),t&&t.init()]).then(this.handleAllProvidersReady.bind(this))}},{key:"restart",value:function(){this.currentLevel&&(this.currentLevel.isReady=!1),this.initCurrentLevel()}},{key:"handleTimeout",value:function(){this.isDestroyed||(this.isNeedPrefetch?(this.logger.push({type:"PREFETCH_TIMEOUT"}),this.prefetchBidsPromise.resolve(!0)):(this.logger.push({type:"TIMEOUT_REFRESH"}),this.refresh()))}},{key:"refresh",value:function(){this.currentLevel&&(this.currentLevel.isReady||(this.currentLevel.isReady=!0,this.slot.refresh()))}},{key:"nextLevel",value:function(){if(!this.isDestroyed){this.currentLevel&&this.destroyLevel(this.currentLevel);var e=this.isNeedPrefetch?"PREFETCH_INIT_LEVEL":"INIT_LEVEL";this.currentLevel=this.levels.shift(),this.currentLevel?(this.logger.push({type:e,payload:this.currentLevel}),this.initCurrentLevel()):(this.logger.push({type:"LAST_LEVEL",payload:this.currentLevel}),this.isNeedPrefetch||this.removeSlot())}}},{key:"removeSlot",value:function(){var e=this.onSlotRemoved;this.onSlotRemoved=void 0,this.cleanupPlugin(),this.slot.remove(),e&&e()}},{key:"handleAllProvidersReady",value:function(){this.isDestroyed||(clearTimeout(this.timeout),this.isNeedPrefetch?(this.logger.push({type:"PREFETCH_READY_ALL_PROVIDERS"}),this.prefetchBidsPromise.resolve(!0)):(this.logger.push({type:"READY_ALL_PROVIDERS"}),this.refresh()))}},{key:"parseLevels",value:function(){this.levels=this.levels.map(this.parseLevel.bind(this)),this.levelsParsed=!0}},{key:"parseLevel",value:function(e){var t=Object.assign({},e,{prebid:null,amazon:null,isReady:!1});return T()(e.prebid)||((0,s.N)(e.prebid),(0,s.h)(!(e.prebid instanceof _)),t.prebid=new _({logger:this.logger,slot:this.slot,divId:this.divId,setup:e.prebid,name:this.name,features:this.params.features,getIsNeedPrefetch:this.getIsNeedPrefetch.bind(this),serverLogger:this.serverLogger})),T()(e.amazon)||((0,s.N)(e.amazon),(0,s.h)(!(e.amazon instanceof k)),t.amazon=new k({logger:this.logger,slot:this.slot,divId:this.divId,setup:e.amazon,name:this.name,features:this.params.features,getIsNeedPrefetch:this.getIsNeedPrefetch.bind(this),serverLogger:this.serverLogger})),t}}]),e}(),Z=function(){function e(t){(0,p.Z)(this,e),(0,v.Z)(this,"divId",void 0),(0,v.Z)(this,"name",void 0),(0,v.Z)(this,"logger",void 0),(0,v.Z)(this,"serverLogger",void 0),(0,v.Z)(this,"params",void 0),(0,v.Z)(this,"isDestroyed",!1),(0,v.Z)(this,"isStarted",!1),this.params=t,Object.assign(this,t)}return(0,h.Z)(e,[{key:"start",value:function(){var e,t;if(!this.isDestroyed&&!this.isStarted){var n=this.getElement();if(n){var r=document.createElement("div");if(r.innerHTML="",r.className="vsly-player",r.id=this.params.data.id,r.dataset.template=this.params.data["data-template"],r.style.background="#ddd",r.style.paddingTop="56.25%",r.style.fontSize="0",r.style.position="relative",r.style.overflow="hidden",r.style.width="100%",n.append(r),!window.viously){var i=document.createElement("script");i.type="text/javascript",i.src="//cdn.viously.com/js/sdk/boot.js",i.id=this.params.viouslyId,i.async=!0,document.head.append(i)}this.isStarted=!0,null===(e=(t=this.params).onSlotShown)||void 0===e||e.call(t),this.logger.push({type:"VIOUSLY_STARTED",payload:{name:this.name,divId:this.divId,viouslyParams:this.params.data}}),this.serverLogger.push({status:f.G2.requested,advertProvider:f.fV.viously})}}}},{key:"destroy",value:function(){var e,t;if(!this.isDestroyed&&this.isStarted){var n=this.getElement();n&&(n.remove(),this.isDestroyed=!0,null===(e=(t=this.params).onSlotRemoved)||void 0===e||e.call(t))}}},{key:"getElement",value:function(){return document.getElementById(this.divId)}},{key:"getName",value:function(){return this.name}},{key:"getDivId",value:function(){return this.divId}},{key:"getLogger",value:function(){return this.logger}},{key:"restart",value:function(){console.error("Method not implemented...")}},{key:"removeSlot",value:function(){this.destroy()}}]),e}(),x=n(42982),U=n(57557),G=n.n(U),C=n(8804),V=n.n(C),M=n(27087),B=function(e){return{bidCpmAdjustment:function(t){return function(e,t){return e-e/100*t}(t,e)}}},z={onetag:B(15),appnexus:B(20),ix:B(0),conversant:B(20),medianet:B(20),aol:B(20),onemobile:B(20),rubicon:B(30),mytarget:B(30),pubmatic:B(0),smartadserver:B(20),oftmedia:B(20),amx:B(30)};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,v.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=function(){function e(){(0,p.Z)(this,e),(0,v.Z)(this,"inited",!1),(0,v.Z)(this,"pubAdsStarted",!1),(0,v.Z)(this,"units",[])}return(0,h.Z)(e,[{key:"init",value:function(e){if(!this.inited){this.inited=!0;var t=(0,a.Rv)();t.pbjs.que.push((function(){var n=t.TSPADS.PBJS_CONFIG,r=["bidderSettings"],i=t.__tcfapi?r:[].concat(r,["consentManagement"]),o=G()(n,i);t.pbjs.setConfig(o),t.pbjs.bidderSettings=z,e.prebidUseGoogleAnalytics&&t.pbjs.enableAnalytics([{provider:"ga",options:{enableDistribution:!1}}])})),t.apstag.init(t.TSPADS.APSTAG_CONFIG),window.addEventListener("message",this.handleMessage.bind(this))}}},{key:"startPubads",value:function(e){var t,n,r=e.purchasedTrafficSource;if(!this.pubAdsStarted){this.pubAdsStarted=!0;var i=(0,a.Rv)(),o=null===(t=(n=i.googletag).pubads)||void 0===t?void 0:t.call(n);null==o||o.addEventListener("slotRenderEnded",this.handleSlotRenderEnded.bind(this)),null==o||o.disableInitialLoad(),null==o||o.collapseEmptyDivs(!0),null==o||o.setCentering(!0),(0,M.rD)(r),i.googletag.enableServices()}}},{key:"showLogs",value:function(){this.units.forEach((function(e){e.logger.showLogs()}))}},{key:"handleSlotRenderEnded",value:function(e){var t=(0,a.Rv)(),n=e.slot.getSlotElementId(),r=this.getUnitBySlotElementId(n);if(r&&(e.isEmpty?r.serverLogger.push({status:f.G2.empty,advertProvider:f.fV.gam}):r.serverLogger.push({status:f.G2.rendered,advertProvider:f.fV.gam})),r&&r instanceof j&&!r.isDestroyed)if(e.isEmpty&&!t.TSPADS.fakeAdvertsIfAbsent)r.nextLevel();else{var i,o=r.getElement();if(e.isEmpty){var s,d,l,u,c;o&&(c=o.getAttribute("class")||void 0,o.remove()),(o=document.createElement("div")).setAttribute("class",c||""),r.parentElement&&r.parentElement.appendChild(o);var v=r.params.levels[0],p=null!==(s=null==v||null===(d=v.amazon)||void 0===d?void 0:d.sizes)&&void 0!==s?s:[],h=null!==(l=null==v||null===(u=v.prebid)||void 0===u?void 0:u.sizes)&&void 0!==l?l:[],g=[].concat((0,x.Z)(p),(0,x.Z)(h)),m=Math.round(Math.random()*(g.length-1));if(o){var b=g[m]||[200,200],S="width: ".concat(b[0],"px; height: ").concat(b[1],"px;\n          border: 0pt none;\n          margin: auto;           \n          display: flex;\n          align-items: center;\n          justify-content: center; \n          background-color: aliceblue;");o.setAttribute("style",S),o.innerHTML="<span>".concat(r.name,"</span>")}}var w,E,N=null===(i=o)||void 0===i?void 0:i.parentElement;null==N||N.setAttribute("data-state","rendered"),e.isEmpty||e.size&&e.size[0]===y[0]&&e.size[1]===y[1]?(r.logger.push({type:"PASSBACK_RENDERED",payload:e}),null===(w=r.onSlotShown)||void 0===w||w.call(r)):(r.logger.push({type:"AD_RENDERED",payload:e}),null===(E=r.onSlotShown)||void 0===E||E.call(r))}}},{key:"handleMessage",value:function(e){var t=(0,a.Rv)(),n=e.data,r=(0,a.As)(n),i=r.payload||{},o=r.type||"",s=i.name||"",d=this.getUnitByName(s);if(d&&d instanceof j&&!d.isDestroyed)switch(o){case"TSPADS_PLUGIN_LOG":d.logger.push({type:r.logType,info:r.info,payload:i});break;case"TSPADS_AD_UNIT_NEXT_LEVEL":d.logger.push({type:"TRIGGERED_TSPADS_AD_UNIT_NEXT_LEVEL"}),d.nextLevel();break;case"TSPADS_PLUGIN_PASSNEXT":(0,a.t7)(d,i);break;case m:this.destroyUnit(d);break;case"TSPADS_ELEMENT_RESIZE":d.logger.push({type:"TRIGGERED_TSPADS_ELEMENT_RESIZE"});var l=i.blockId,u=i.height,c=i.width;if(l){var v=document.getElementById(l);v&&(void 0!==c&&(v.style.width=(0,a.Wc)(c)),void 0!==u&&(v.style.height=(0,a.Wc)(u)))}break;case"TSPADS_PLUGIN":var p,h,f=i,g=i.cascade||[];if(i.cascade){var y=V()(g);h=null==y?void 0:y.pluginName,f=W(W({},i),y)}else h=i.pluginName;var b=h&&(null===(p=t.TSPADS)||void 0===p?void 0:p.plugins[h]);if(b){var S;b.doNotDestroyGptSlot||d.slot.destroySlot();var w=null===(S=d.getElement())||void 0===S?void 0:S.style;"none"===(null==w?void 0:w.display)&&(w.display=""),d.cleanupPlugin();var E=b.handleMessage(d,f);d.setPluginCleanupFn(E)}else"branding"!==h&&console.warn("TSPADS: plugin not found");break;default:console.warn("TSPADS: unknown type")}}},{key:"getUnitByName",value:function(e){return this.units.find((function(t){return t.name===e}))}},{key:"getUnitBySlotElementId",value:function(e){return this.units.find((function(t){return t.divId===e}))}},{key:"destroyUnit",value:function(e){e.removeSlot(),e.destroy(),e.logger.destroy(),this.remove(e)}},{key:"add",value:function(e){this.units=[].concat((0,x.Z)(this.units),[e])}},{key:"remove",value:function(e){this.units=this.units.filter((function(t){return t!==e}))}}]),e}();function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,v.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=new H;(0,a.Rv)().TSPADS.showLogs=function(){J.showLogs()};var q=function(e){if(e){var t,n=e.split("/");return n[2]=(null===(t=(0,a.Rv)().TSPADS.adUnitNameMapping)||void 0===t?void 0:t[n[2]])||n[2],n.join("/")}return e};function K(e,t,n){var r,i,o;J.init(e.features);var s=X(X({},e),{},{name:q(e.name)}),d=null===(r=t.viously)||void 0===r?void 0:r.id,l=null===(i=s.levels[0])||void 0===i?void 0:i.viously,u=null===(o=s.levels[0])||void 0===o?void 0:o.Adfox;return d&&l?function(e,t,n,r,i){var o=new g({logs:[],name:e.name,divId:e.divId}),s=new Z({divId:e.divId,name:e.name,viouslyId:t,data:n,logger:o,serverLogger:i,onSlotShown:e.onSlotShown,onSlotRemoved:e.onSlotRemoved});return{start:function(){r.add(s),s.start()},destroy:function(){r.remove(s),s.destroy()},refresh:function(){s.restart()},adUnit:s}}(s,d,l,J,n):u&&b.includes(e.countryCode)?function(e,t,n,r,i){var o=!1,s=!1,d={start:function(){s=!0},destroy:function(){o=!0},refresh:function(){},adUnit:void 0},l=new g({logs:[],name:e.name,divId:e.divId}),u=new S({logger:l,serverLogger:i,divId:e.divId,name:e.name,data:E(E({},n),{},{sizes:e.sizes}),provider:t.Adfox,onSlotShown:e.onSlotShown,onSlotRemoved:e.onSlotRemoved});return(0,a.Rv)().yaContextCb.push((function(){o||(d.destroy=function(){},r.add(u),d.refresh=function(){u.restart()},d.destroy=function(){o||(o=!0,r.remove(u),u.destroy(),l.destroy())},d.start=function(){o||u.start()},d.adUnit=u,s&&d.start())})),d}(s,t,u,J,n):function(e,t,n){var r=!1,i=!1,o=!1,s=new g({logs:[],name:e.name,divId:e.divId}),d=new O({logger:s,name:e.name,divId:e.divId,sizes:e.sizes}),l=new j({slot:d,logger:s,serverLogger:n,levels:e.levels,name:e.name,divId:e.divId,onSlotShown:e.onSlotShown,onSlotRemoved:e.onSlotRemoved,features:e.features}),u={start:function(){i=!0,o=!0,l.prefetchBids()},destroy:function(){r=!0},refresh:function(){},adUnit:void 0};function c(){r||(t.add(l),o&&(l.setSlotTargets(),o=!1),u.refresh=function(){d.refresh()},u.destroy=function(){r||(r=!0,t.remove(l),d.destroySlot(),l.destroy(),s.destroy())},u.start=function(){r||l.start()},u.adUnit=l,i&&u.start())}var v,p=setTimeout((function(){var t,r,o=null===(t=e.levels[0])||void 0===t||null===(r=t.yandex)||void 0===r?void 0:r.blockId;o&&(u.start=function(){n.push({advertProvider:f.fV.yandexRtb,status:f.G2.requested}),(0,a.Rv)().TSPADS.plugins["yandex-rtb"].handleMessage(l,{blockId:o})},i&&u.start())}),1e3);return(0,a.NE)()?(0,a.ao)((function(){if(clearTimeout(p),!r)if(t.startPubads(e),e.delay>0){var n=setTimeout(c,e.delay);u.destroy=function(){clearTimeout(n)}}else u.destroy=function(){},c()})):(n.push({advertProvider:f.fV.gam,status:f.G2.timeout}),null===(v=e.onSlotRemoved)||void 0===v||v.call(e)),u}(s,J,n)}},72176:function(e,t,n){"use strict";n.d(t,{B:function(){return a}});var r=n(39166),i=n(44633),o=n(44870),s=n(50845),a=function(){var e=(0,r.v9)(i.$o),t=(0,r.v9)(o.JE),n=(0,r.v9)(o.Bd);return!t&&e.infiniteScroll&&(0,s.y6)(n.template)}},4732:function(e,t,n){"use strict";n.d(t,{O:function(){return s}});var r=n(70885),i=n(67294),o=n(70131);function s(e,t){var n=(0,i.useRef)(!1),s=(0,i.useRef)(e);s.current=e;var a=(0,o.YD)(t),d=(0,r.Z)(a,2),l=d[0],u=d[1];return(0,i.useEffect)((function(){n.current!==u&&(n.current=u,s.current(u))}),[u]),[l,u]}},34945:function(e,t,n){"use strict";n.d(t,{F:function(){return l}});var r=n(4942),i=n(70885),o=n(67294),s=n(70131);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e){var t=(0,o.useState)(!1),n=(0,i.Z)(t,2),r=n[0],a=n[1],l=(0,s.YD)(d(d({},e),{},{triggerOnce:!0})),u=(0,i.Z)(l,3),c=u[0],v=u[1],p=u[2];return(0,o.useEffect)((function(){v&&(a(!0),c(null))}),[v,c]),[r?void 0:c,v||r,p]}},32258:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});var r=n(67294),i=(0,n(39928).X)(r.useLayoutEffect,r.useEffect)},69877:function(e){var t=Math.floor,n=Math.random;e.exports=function(e,r){return e+t(n()*(r-e+1))}},50361:function(e,t,n){var r=n(85990);e.exports=function(e){return r(e,5)}},8804:function(e,t,n){e.exports=n(91175)},91175:function(e){e.exports=function(e){return e&&e.length?e[0]:void 0}},83608:function(e,t,n){var r=n(69877),i=n(16612),o=n(18601),s=parseFloat,a=Math.min,d=Math.random;e.exports=function(e,t,n){if(n&&"boolean"!=typeof n&&i(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=o(e),void 0===t?(t=e,e=0):t=o(t)),e>t){var l=e;e=t,t=l}if(n||e%1||t%1){var u=d();return a(e+u*(t-e+s("1e-"+((u+"").length-1))),t)}return r(e,t)}},70131:function(e,t,n){"use strict";n.d(t,{YD:function(){return p}});var r=n(67294);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}var s=new Map,a=new WeakMap,d=0;function l(e,t,n,r){if(void 0===n&&(n={}),void 0===r&&(r=undefined),void 0===window.IntersectionObserver&&void 0!==r){var i=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"==typeof n.threshold?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),function(){}}var o=function(e){var t=function(e){return Object.keys(e).sort().filter((function(t){return void 0!==e[t]})).map((function(t){return t+"_"+("root"===t?(n=e.root)?(a.has(n)||(d+=1,a.set(n,d.toString())),a.get(n)):"0":e[t]);var n})).toString()}(e),n=s.get(t);if(!n){var r,i=new Map,o=new IntersectionObserver((function(t){t.forEach((function(t){var n,o=t.isIntersecting&&r.some((function(e){return t.intersectionRatio>=e}));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=o),null==(n=i.get(t.target))||n.forEach((function(e){e(o,t)}))}))}),e);r=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:o,elements:i},s.set(t,n)}return n}(n),l=o.id,u=o.observer,c=o.elements,v=c.get(e)||[];return c.has(e)||c.set(e,v),v.push(t),u.observe(e),function(){v.splice(v.indexOf(t),1),0===v.length&&(c.delete(e),u.unobserve(e)),0===c.size&&(u.disconnect(),s.delete(l))}}var u=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function c(e){return"function"!=typeof e.children}var v=function(e){var t,n;function s(t){var n;return(n=e.call(this,t)||this).node=null,n._unobserveCb=null,n.handleNode=function(e){n.node&&(n.unobserve(),e||n.props.triggerOnce||n.props.skip||n.setState({inView:!!n.props.initialInView,entry:void 0})),n.node=e||null,n.observeNode()},n.handleChange=function(e,t){e&&n.props.triggerOnce&&n.unobserve(),c(n.props)||n.setState({inView:e,entry:t}),n.props.onChange&&n.props.onChange(e,t)},n.state={inView:!!t.initialInView,entry:void 0},n}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,o(t,n);var a=s.prototype;return a.componentDidUpdate=function(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())},a.componentWillUnmount=function(){this.unobserve(),this.node=null},a.observeNode=function(){if(this.node&&!this.props.skip){var e=this.props,t=e.threshold,n=e.root,r=e.rootMargin,i=e.trackVisibility,o=e.delay,s=e.fallbackInView;this._unobserveCb=l(this.node,this.handleChange,{threshold:t,root:n,rootMargin:r,trackVisibility:i,delay:o},s)}},a.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},a.render=function(){if(!c(this.props)){var e=this.state,t=e.inView,n=e.entry;return this.props.children({inView:t,entry:n,ref:this.handleNode})}var o=this.props,s=o.children,a=o.as,d=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(o,u);return r.createElement(a||"div",i({ref:this.handleNode},d),s)},s}(r.Component);function p(e){var t=void 0===e?{}:e,n=t.threshold,i=t.delay,o=t.trackVisibility,s=t.rootMargin,a=t.root,d=t.triggerOnce,u=t.skip,c=t.initialInView,v=t.fallbackInView,p=r.useRef(),h=r.useState({inView:!!c}),f=h[0],g=h[1],y=r.useCallback((function(e){void 0!==p.current&&(p.current(),p.current=void 0),u||e&&(p.current=l(e,(function(e,t){g({inView:e,entry:t}),t.isIntersecting&&d&&p.current&&(p.current(),p.current=void 0)}),{root:a,rootMargin:s,threshold:n,trackVisibility:o,delay:i},v))}),[Array.isArray(n)?n.toString():n,a,s,d,u,o,v,i]);(0,r.useEffect)((function(){p.current||!f.entry||d||u||g({inView:!!c})}));var m=[y,f.inView,f.entry];return m.ref=m[0],m.inView=m[1],m.entry=m[2],m}v.displayName="InView",v.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1}},19302:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(67294);function i(e,t,n){var i=this;void 0===n&&(n={leading:!1,trailing:!0});var o=(0,r.useRef)(void 0),s=(0,r.useRef)(0),a=(0,r.useRef)(void 0),d=(0,r.useRef)([]),l=(0,r.useRef)(null),u=(0,r.useRef)(null),c=(0,r.useRef)(e),v=(0,r.useRef)(!0);c.current=e;var p=!t&&0!==t&&"undefined"!=typeof window&&"function"==typeof window.requestAnimationFrame;if("function"!=typeof e)throw new TypeError("Expected a function");t=Number(t)||0;var h=!!n.leading,f=!("trailing"in n)||!!n.trailing,g="maxWait"in n,y=g?Math.max(Number(n.maxWait)||0,t):void 0,m=(0,r.useCallback)((function(e){var t=d.current,n=l.current;return d.current=l.current=void 0,s.current=e,u.current=c.current.apply(n,t),u.current}),[]),b=(0,r.useCallback)((function(e,t){return p?(window.cancelAnimationFrame(a.current),window.requestAnimationFrame(e)):setTimeout(e,t)}),[p]),S=(0,r.useCallback)((function(e){if(p)return window.cancelAnimationFrame(e);clearTimeout(e)}),[p]),w=(0,r.useCallback)((function(e){var n=e-o.current,r=e-s.current,i=t-n;return g?Math.min(i,y-r):i}),[y,g,t]),E=(0,r.useCallback)((function(e){if(!v.current)return!1;var n=e-o.current,r=e-s.current;return void 0===o.current||n>=t||n<0||g&&r>=y}),[y,g,t]),N=(0,r.useCallback)((function(e){return a.current=void 0,f&&d.current?m(e):(d.current=l.current=void 0,u.current)}),[m,f]),P=(0,r.useCallback)((function(){var e=Date.now();if(E(e))return N(e);a.current=b(P,w(e))}),[w,E,b,N]),I=(0,r.useCallback)((function(e){return s.current=e,a.current=b(P,t),h?m(e):u.current}),[m,b,h,P,t]),O=(0,r.useCallback)((function(){void 0!==a.current&&S(a.current),s.current=0,d.current=o.current=l.current=a.current=void 0}),[S]),R=(0,r.useCallback)((function(){return void 0===a.current?u.current:N(Date.now())}),[N]);(0,r.useEffect)((function(){return v.current=!0,function(){v.current=!1}}),[]);var T=(0,r.useCallback)((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Date.now(),s=E(r);if(d.current=e,l.current=i,o.current=r,s){if(void 0===a.current&&v.current)return I(o.current);if(g)return a.current=b(P,t),m(o.current)}return void 0===a.current&&(a.current=b(P,t)),u.current}),[m,I,g,E,b,P,t]);return[T,O,R]}}}]);